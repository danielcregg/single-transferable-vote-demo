<!DOCTYPE html>
<html lang="en">
<head>
    <base href="/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STV Election Simulator</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tippy.js@6/dist/tippy.css">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
    <script src="https://unpkg.com/@popperjs/core@2"></script>
    <script src="https://unpkg.com/tippy.js@6"></script>
    <link rel="stylesheet" href="https://unpkg.com/tippy.js@6/themes/light.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link href="styles.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="top-controls">
            <div class="parameter-group">
                <div class="compact-input">
                    <label for="numVoters">Voters:</label>
                    <input type="number" id="numVoters" min="10" max="1000" value="100">
                </div>
                <div class="compact-input">
                    <label for="numCandidates">Candidates:</label>
                    <input type="number" id="numCandidates" min="3" max="10" value="5">
                </div>
                <div class="compact-input">
                    <label for="seatsAvailable">Seats:</label>
                    <input type="number" id="seatsAvailable" min="1" max="5" value="3">
                </div>
                <div class="quota-display">
                    Quota: <span id="quotaValue">-</span>
                </div>
            </div>
            <div class="action-buttons">
                <button id="generateBtn" class="primary">Generate</button>
                <button id="simulateBtn" class="primary" disabled>Simulate</button>
                <div class="navigation-controls">
                    <div class="control-group">
                        <span class="nav-label">Round:</span>
                        <button id="prevRoundBtn" class="primary" disabled>◀</button>
                        <button id="nextRoundBtn" class="primary" disabled>▶</button>
                    </div>
                    <div class="control-group">
                        <span class="nav-label">Action:</span>
                        <button id="prevActionBtn" class="primary" disabled>◀</button>
                        <button id="nextActionBtn" class="primary" disabled>▶</button>
                    </div>
                </div>
            </div>
        </div>
        <main class="main-content">
            <div class="progress-container">
                <div id="progressBar" class="progress-bar"></div>
            </div>
            <div class="progress-container">
                <div id="actionProgress" class="progress-bar progress-bar-action"></div>
            </div>
            <section class="card">
                <h2>Candidates</h2>
                <div id="candidateList" class="candidate-grid"></div>
            </section>

            <section class="card">
                <h2>Vote Distribution</h2>
                <div id="voteChart" class="vote-chart"></div>
            </section>

            <section class="card">
                <h2>Vote Transfers</h2>
                <div id="flowVisualization" class="flow-visualization"></div>
                <div id="sankeyDiagram" class="sankey-container"></div>
            </section>

            <section class="card">
                <div id="roundInfo"></div>
                <div id="electionStatus"></div>
            </section>
        </main>
    </div>
    <script src="app.js"></script>
</body>
</html>
